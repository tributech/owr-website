---
interface Props {
  title: string;
  slug: string;
  excerpt?: string;
  tags?: string[];
  categoryName: string;
  step?: number;
}

const { title, slug, excerpt, tags, categoryName, step } = Astro.props;
---

<a
  href={`/docs/${slug}`}
  class="block rounded-xl border border-gray-200 bg-gray-50 p-5 hover:border-gray-400 dark:bg-gray-800 dark:border-gray-700 dark:hover:border-gray-500 transition-colors group"
>
  <div class="flex items-start gap-3 mb-2">
    {step && (
      <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-700 text-xs font-bold text-gray-500 dark:text-gray-400 shrink-0 mt-0.5 group-hover:bg-owr-gold/20 group-hover:text-owr-gold-dark transition-colors">
        {step}
      </span>
    )}
    <h3 class="flex-1 text-base font-semibold text-gray-900 dark:text-white group-hover:text-owr-gold-dark transition-colors">
      {title}
    </h3>
    <svg class="w-4 h-4 text-gray-400 group-hover:text-owr-gold-dark transition-colors shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
    </svg>
  </div>

  {excerpt && (
    <p class:list={["text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-2", step && "ml-9"]}>
      {excerpt}
    </p>
  )}

  <div class:list={["flex flex-wrap gap-2", step && "ml-9"]}>
    {tags?.map((tag) => (
      <span class="inline-block rounded-full bg-owr-gold/10 px-2.5 py-0.5 text-xs font-medium text-owr-gold-dark">
        {tag}
      </span>
    ))}
  </div>
</a>
