---
import Layout from '../layouts/Layout.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';

const APP_URL = import.meta.env.PUBLIC_APP_URL || 'https://oldworldrankings.com';

const freeFeatures = [
  'View rankings & tournament results',
  'Browse army lists & galleries',
  'Register for tournaments',
  'Basic tournament hosting (up to 20 players)',
  'OWR payment processing',
  'Army list sharing',
];

const proFeatures = [
  'Everything in Free',
  'Advanced army list search & filters',
  'Custom notification preferences',
  'Full Army Builder access',
  'Connect your own Stripe account',
  'Mobile app with army list sync',
  'Unlimited tournament size',
  'Priority support',
];

const hostingFeatures = [
  'Guided tournament setup wizard',
  'Player registration with waitlists',
  'Payment collection (OWR or Stripe)',
  'Live scoring & battle boards',
  'Army list collection & validation',
  'Swiss & manual pairing systems',
  'Real-time results & standings',
  'Post-event statistics & reports',
];
---

<Layout
  title="Pricing â€” Old World Rankings"
  description="OWR is free for players. Upgrade to Pro for tournament organizers and power users."
>
  <Nav />

  <main class="pt-24 pb-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Header -->
      <div class="text-center mb-16">
        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4">
          Simple, Transparent Pricing
        </h1>
        <p class="text-lg text-gray-500 dark:text-gray-400 max-w-2xl mx-auto">
          OWR is free for players. Upgrade to Pro for advanced features and tournament hosting without limits.
        </p>
      </div>

      <!-- Pricing cards -->
      <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto mb-20">
        <!-- Free -->
        <div class="p-8 rounded-2xl border border-gray-200 bg-white dark:bg-gray-800 dark:border-gray-700 flex flex-col">
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">Free</h2>
          <p class="text-gray-500 dark:text-gray-400 mb-6">Everything you need to compete</p>
          <p class="text-4xl font-bold text-gray-900 dark:text-white mb-8">
            $0<span class="text-lg font-normal text-gray-500 dark:text-gray-400">/month</span>
          </p>
          <ul class="space-y-4 flex-grow">
            {freeFeatures.map((f) => (
              <li class="flex items-center gap-3 text-gray-700 dark:text-gray-300">
                <svg class="h-5 w-5 text-green-500 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                </svg>
                {f}
              </li>
            ))}
          </ul>
          <a
            href={`${APP_URL}/register`}
            class="block w-full py-3 text-center border border-gray-300 text-gray-900 font-medium rounded-lg hover:bg-gray-50 dark:border-gray-600 dark:text-white dark:hover:bg-gray-700 transition-colors mt-8"
          >
            Get Started Free
          </a>
        </div>

        <!-- Pro -->
        <div class="p-8 rounded-2xl border-2 border-owr-gold bg-white dark:bg-gray-800 relative flex flex-col">
          <div class="absolute -top-3 left-1/2 -translate-x-1/2">
            <span class="px-4 py-1 rounded-full bg-owr-gold text-gray-900 text-sm font-semibold">
              RECOMMENDED
            </span>
          </div>
          <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">Pro</h2>
          <p class="text-gray-500 dark:text-gray-400 mb-6">For organizers &amp; power users</p>
          <p class="text-4xl font-bold text-gray-900 dark:text-white mb-8">
            $5<span class="text-lg font-normal text-gray-500 dark:text-gray-400">/month</span>
          </p>
          <ul class="space-y-4 flex-grow">
            {proFeatures.map((f) => (
              <li class="flex items-center gap-3 text-gray-700 dark:text-gray-300">
                <svg class="h-5 w-5 text-owr-gold shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                </svg>
                {f}
              </li>
            ))}
          </ul>
          <a
            href={`${APP_URL}/pricing`}
            class="block w-full py-3 text-center bg-gray-900 text-white font-medium rounded-lg hover:bg-gray-800 transition-colors mt-8"
          >
            Upgrade to Pro
          </a>
        </div>
      </div>

      <!-- Tournament Hosting Features -->
      <section id="hosting" class="scroll-mt-20">
        <div class="text-center mb-12">
          <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-4">
            Tournament Hosting Features
          </h2>
          <p class="text-gray-500 dark:text-gray-400 max-w-2xl mx-auto">
            Everything included to run your events. Free tier supports up to 20 players, Pro unlocks unlimited.
          </p>
        </div>
        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4 max-w-5xl mx-auto">
          {hostingFeatures.map((f) => (
            <div class="p-4 rounded-lg border border-gray-200 bg-gray-50 dark:bg-gray-800 dark:border-gray-700 text-center">
              <p class="text-sm font-medium text-gray-900 dark:text-white">{f}</p>
            </div>
          ))}
        </div>
      </section>

      <!-- Payment processing note -->
      <div class="mt-16 p-6 rounded-xl bg-gray-50 border border-gray-200 dark:bg-gray-800 dark:border-gray-700 max-w-3xl mx-auto">
        <h3 class="font-semibold text-gray-900 dark:text-white mb-2">Payment Processing</h3>
        <p class="text-sm text-gray-500 dark:text-gray-400">
          <strong>Free tier:</strong> OWR handles payment processing for your tournaments. A small platform fee applies per transaction.
        </p>
        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
          <strong>Pro tier:</strong> Connect your own Stripe account and collect payments directly. No OWR platform fees on payments.
        </p>
      </div>
    </div>
  </main>

  <Footer />
</Layout>
