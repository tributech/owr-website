---
interface SidebarCategory {
  title: string;
  slug: string;
  articles: { title: string; slug: string }[];
}

interface Props {
  categories: SidebarCategory[];
  currentSlug: string;
}

const { categories, currentSlug } = Astro.props;
---

<aside class="w-full lg:w-64 shrink-0">
  <nav class="sticky top-24 space-y-6">
    {categories.map((cat) => (
      <div>
        <h4 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">
          {cat.title}
        </h4>
        <ul class="space-y-1">
          {cat.articles.map((article) => (
            <li>
              <a
                href={`/docs/${article.slug}`}
                class:list={[
                  'block px-3 py-1.5 rounded-md text-sm transition-colors',
                  article.slug === currentSlug
                    ? 'bg-owr-gold/10 text-owr-gold-dark font-medium'
                    : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100',
                ]}
              >
                {article.title}
              </a>
            </li>
          ))}
        </ul>
      </div>
    ))}
    <div class="pt-4 border-t border-gray-200">
      <a href="/docs" class="text-sm text-gray-500 hover:text-gray-900 transition-colors">
        &larr; All docs
      </a>
    </div>
  </nav>
</aside>
